<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-16">
  <title>正法眼蔵</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
</head>
<body>
  <div id="app"></div>
  <script>
    const hilight = (hook, vm) => {
      let word = '';
      hook.mounted(_ => {
        const input = document.getElementsByTagName('input')[0];
        input.addEventListener('input', () => {
          word = input.value;
        })
      })
      hook.doneEach(_ => {
        let reg = new RegExp(word, "gi");
        const p_elements = document.getElementsByTagName('p');
        for(let pi=0; pi < p_elements.length; pi++) {
          if (word !== '') {
            p_elements[pi].innerHTML = p_elements[pi].innerHTML.replace(reg, t => '<span style="background-color: yellow;">' + t + '</span>');
          }
        }
      })
    }

    window.$docsify = {
      name: '正法眼蔵',
      repo: '.',
			loadSidebar: true,
      search: {
        // maxAge: 20000,
        noData: 'No results',
        paths: 'auto',
        placeholder: 'Search',
      },
      requestHeaders: {
        'cache-control': 'max-age=0',
      },
      plugins: [
        hilight,
      ]
    }
  </script>
  <!-- Docsify v4 -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
s</body>
</html>
